import express from "express";
import swaggerUiExpress from "swagger-ui-express";
import { specs } from "./config/swagger.config.js";

const server = express();

server.use(express.urlencoded({ extended: true }));
server.use(express.json());

server.use("/public", express.static(paths.public));

passportConfig(server);

server.use("/api-docs", swaggerUiExpress.serve, swaggerUiExpress.setup(specs))

// Rutas



server.use("*", (req, res) => {
    res.status(404).send("La ruta indicada no existe");
});

server.listen(process.env.PORT ? process.env.PORT : 8080, () => {
    console.log(`Ejecut√°ndose en http://localhost:${process.env.PORT}`);
});